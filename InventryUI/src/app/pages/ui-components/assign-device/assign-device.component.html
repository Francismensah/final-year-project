<section fxLayout="row wrap" fxLayoutAlign="center center">
  <mat-card fxFlex="500px" fxFlex.xs="100%" class="b-1 shadow-none">
    <mat-card-header>
      <mat-card-title>Assign a Device</mat-card-title>
    </mat-card-header>
    <form [formGroup]="deviceAssignmentForm" autocomplete="off" novalidate (ngSubmit)="createDeviceAssignment(deviceAssignmentForm.value)">
      <mat-card-content>
        <!-- Category Dropdown -->
        <mat-form-field class="w-100 col-sm-6 col-lg-4" appearance="outline">
          <mat-label>Category</mat-label>
          <mat-select formControlName="category">
            <mat-option value="">All Categories</mat-option>
            <mat-option *ngFor="let category of categories" [value]="category.name">
              {{ category.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Brand Dropdown -->
        <mat-form-field class="w-100 col-sm-6 col-lg-4" appearance="outline">
          <mat-label>Brand</mat-label>
          <mat-select formControlName="brand">
            <mat-option value="">All Brands</mat-option>
            <mat-option *ngFor="let brand of brands" [value]="brand.name">
              {{ brand.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Device Dropdown -->
        <mat-form-field appearance="outline" class="w-100" color="primary">
          <mat-select placeholder="Select Device" formControlName="deviceId" id="deviceId">
            <mat-option *ngFor="let device of filteredDevices" [value]="device.id">
              {{ device.name }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="hasError('deviceId', 'required')">Device is required</mat-error>
        </mat-form-field>

        <!-- Employee Dropdown -->
        <mat-form-field appearance="outline" class="w-100" color="primary">
          <mat-select placeholder="Select Employee" formControlName="employeeId" id="employeeId">
            <mat-option *ngFor="let employee of employees" [value]="employee.id">
              {{ employee.firstName }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="hasError('employeeId', 'required')">Employee is required</mat-error>
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>
        <button mat-flat-button color="primary" class="w-100 action-button" [disabled]="!deviceAssignmentForm.valid">Assign Device</button>
        <button type="button" mat-flat-button color="warn" class="w-100" (click)="redirectToDeviceAssignmentList()">Cancel</button>
      </mat-card-actions>
    </form>
  </mat-card>
</section>
